@page "/login"
@using API;
@using API.Models;
@using BlazorApp.Pages;
@using BlazorApp.Services;
@using BlazorApp.Containers;
@using System.Threading.Tasks
@using Microsoft.AspNetCore.Components.Forms
@inject Microsoft.AspNetCore.Components.NavigationManager navigationManager;

@namespace BlazorApp.Pages
{
<PageTitle>Login</PageTitle>

<div class="container">

    <h2>Login</h2>
    
    <EditForm Model="@userLogin" OnValidSubmit="HandleLogin">
        <div>
            <label for="uname">Username or email:</label><br>
            <InputText id="uname" @bind-Value="userLogin.Email" placeholder="Username or email" required />
        </div>
        <div>
            <label for="pass">Password:</label><br>
            <InputText id="pass" @bind-Value="userLogin.Password" type="password" placeholder="Password" required />
        </div>
        <div>
            <input type="submit" value="Login">
        </div>

        <p class="error-message" id="login-error">@errorMessage</p>

    </EditForm>

</div>
}
